(this.webpackJsonpblogreact=this.webpackJsonpblogreact||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(16),c=n.n(a),i=(n(21),n(2)),l=n.n(i),u=n(4),o=n(3),j=(n(23),n(24),n(25),n(0)),b=function(e){var t=e.handleRegister,n=e.name,s=e.setName,r=e.username,a=e.setUsername,c=e.password,i=e.setPassword,l=e.registerVisible,u=e.loginVisible,o=e.cancel;return Object(j.jsxs)("form",{onSubmit:t,children:[Object(j.jsxs)("div",{className:"registerName",children:[Object(j.jsx)("input",{required:!0,className:"registerName-input",type:"text",name:"name",value:n,onChange:function(e){var t=e.target;return s(t.value)}}),Object(j.jsx)("label",{className:"registerName-label",children:Object(j.jsx)("span",{className:"registerName-span",children:"name"})})]}),Object(j.jsxs)("div",{className:"registerUsername",children:[Object(j.jsx)("input",{required:!0,className:"registerUsername-input",name:"username",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),Object(j.jsx)("label",{className:"registerUsername-label",children:Object(j.jsx)("span",{className:"registerUsername-span",children:"username"})})]}),Object(j.jsxs)("div",{className:"registerPassword",children:[Object(j.jsx)("input",{required:!0,className:"registerPassword-input",type:"password",name:"password",value:c,onChange:function(e){var t=e.target;return i(t.value)}}),Object(j.jsx)("label",{className:"registerPassword-label",children:Object(j.jsx)("span",{className:"registerPassword-span",children:"password"})})]}),Object(j.jsx)("button",{type:"submit",children:" Register"}),Object(j.jsx)("div",{style:{display:l||u?"":"none"},children:Object(j.jsx)("button",{className:"cancel",onClick:o,children:"Cansel"})})]})},d=function(e){var t=e.handleLogin,n=e.username,s=e.setUsername,r=e.password,a=e.setPassword,c=e.registerVisible,i=e.loginVisible,l=e.cancel;return Object(j.jsxs)("form",{onSubmit:t,className:"loginForm",children:[Object(j.jsxs)("div",{className:"loginUsername",children:[Object(j.jsx)("input",{required:!0,className:"loginUsername-input",name:"username",value:n,onChange:function(e){var t=e.target;return s(t.value)}}),Object(j.jsx)("label",{className:"loginUsername-label",children:Object(j.jsx)("span",{className:"loginUsername-span",children:"username"})})]}),Object(j.jsxs)("div",{className:"loginPassword",children:[Object(j.jsx)("input",{required:!0,className:"loginPassword-input",type:"password",name:"password",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),Object(j.jsx)("label",{className:"loginPassword-label",children:Object(j.jsx)("span",{className:"loginPassword-span",children:"password"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",children:"Login"}),Object(j.jsx)("div",{style:{display:c||i?"":"none"},children:Object(j.jsx)("button",{className:"cancel",onClick:l,children:"Cansel"})})]})},p=n(6),m=n.n(p),O=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/login",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=m.a.post("/api/users",t),e.abrupt("return",n);case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return","registered error");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),h="/api/blogs",v=null,x={getAll:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,m.a.post(h,t,n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){v="bearer ".concat(e)},deleteBlog:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(h,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return m.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data}))}};var g=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(o.a)(a,2),i=c[0],p=c[1],m=Object(s.useState)(""),h=Object(o.a)(m,2),v=h[0],g=h[1],w=Object(s.useState)(!1),N=Object(o.a)(w,2),y=N[0],k=N[1],C=Object(s.useState)(!1),S=Object(o.a)(C,2),T=S[0],P=S[1],U=Object(s.useState)(!0),D=Object(o.a)(U,2),L=D[0],V=D[1],B=Object(s.useState)(!0),I=Object(o.a)(B,2),q=I[0],F=I[1],R=Object(s.useState)(!1),A=Object(o.a)(R,2),E=A[0],J=A[1],M=Object(s.useState)(null),Y=Object(o.a)(M,2),z=Y[0],G=Y[1],H=Object(s.useState)(null),K=Object(o.a)(H,2),Q=K[0],W=K[1],X=Object(s.useState)(null),Z=Object(o.a)(X,2),$=Z[0],_=Z[1],ee=Object(s.useState)([]),te=Object(o.a)(ee,2),ne=te[0],se=te[1],re=Object(s.useState)(""),ae=Object(o.a)(re,2),ce=ae[0],ie=ae[1],le=Object(s.useState)(""),ue=Object(o.a)(le,2),oe=ue[0],je=ue[1],be=Object(s.useState)(""),de=Object(o.a)(be,2),pe=de[0],me=de[1],Oe=Object(s.useState)(!1),fe=Object(o.a)(Oe,2),he=fe[0],ve=fe[1],xe=Object(s.useState)(!1),ge=Object(o.a)(xe,2),we=ge[0],Ne=ge[1],ye=Object(s.useState)(!0),ke=Object(o.a)(ye,2),Ce=ke[0],Se=ke[1];Object(s.useEffect)((function(){Pe()}),[]);var Te=Ce?ne:ne.filter((function(e){return e.user.username===z.username}));Object(s.useEffect)((function(){})),Object(s.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);G(t),x.setToken(t.token),F(!1),J(!0)}}),[]);var Pe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getAll();case 3:t=e.sent,se(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message,"  this is fucking error message");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){k(!1),P(!1),V(!0),F(!0),J(!1),G(null),W(""),r(""),p(""),g(""),je(""),ie(""),me(""),window.localStorage.clear()};z?console.log("zimbabue"):console.log("no user");var De=function(){var e=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,s={name:n,username:i,password:v},i&&n){e.next=6;break}return setTimeout((function(){W(null)}),3e3),e.abrupt("return",W("Please fill out fields"));case 6:if(!(v.length<=5)){e.next=9;break}return setTimeout((function(){W(null)}),3e3),e.abrupt("return",W("Your password doesn`t match the criteria."));case 9:return e.next=11,f(s);case 11:Ue(),setTimeout((function(){_(null)}),3e3),_("You registered succesfuly"),e.next=23;break;case 16:e.prev=16,e.t0=e.catch(1),setTimeout((function(){W(null)}),3e3),W("This username already exists"),r(""),p(""),g("");case 23:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O({username:i,password:v});case 4:if(n=e.sent,p(""),g(""),void 0!==n){e.next=10;break}return setTimeout((function(){W(null)}),3e3),e.abrupt("return",W("Invalid username or password"));case 10:F(!1),J(!0),x.setToken(n.token),window.localStorage.setItem("loggedUser",JSON.stringify(n)),G(n),p(""),g(""),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),p(""),g("");case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={blog:oe,title:ce,author:pe},e.prev=1,e.next=4,x.create(t);case 4:Pe(),ie(""),je(""),me(""),ve(!1),Ne(!1),_("added successfully"),setTimeout((function(){_(null)})),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(1),"Request failed with status code 404"===e.t0.message&&(W("Time expired"),setTimeout((function(){W(null)}),3e3)),ie(""),je(""),me(""),W("Please fill out fields"),setTimeout((function(){W(null)}),3e3);case 22:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){Ue()},Ie=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.deleteBlog(t);case 3:Pe(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),setTimeout((function(){W(null)}),3e3),W("error");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){if(z&&e.user.username===z.username)return Object(j.jsx)("div",{className:"deleteDiv",children:Object(j.jsx)("button",{onClick:function(){return Ie(e.id)},children:"delete"})})};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{children:[Q?Object(j.jsxs)("div",{className:"errorDiv",children:[" ",Object(j.jsx)("p",{className:"errorMessage",children:Q})]}):null,$?Object(j.jsx)("div",{className:"succesDiv",children:Object(j.jsx)("p",{className:"succesMessage",children:$})}):null]}),Object(j.jsxs)("div",{className:"formDiv",style:{display:q?"":"none"},children:[Object(j.jsx)("div",{className:"logo"}),Object(j.jsxs)("div",{className:"formsDivInside",children:[Object(j.jsx)("div",{style:{display:L?"":"none"},children:Object(j.jsx)("button",{onClick:function(){P(!0),k(!1),V(!1)},children:"Register"})}),Object(j.jsx)("div",{style:{display:L?"":"none"},children:Object(j.jsx)("button",{onClick:function(){k(!0),P(!1),V(!1)},children:"Login"})}),Object(j.jsx)("div",{style:{display:y?"":"none"},children:Object(j.jsx)(d,{registerVisible:T,loginVisible:y,cancel:Be,username:i,password:v,handleLogin:Le,setUsername:p,setPassword:g})}),Object(j.jsx)("div",{style:{display:T?"":"none"},children:Object(j.jsx)(b,{registerVisible:T,loginVisible:y,cancel:Be,name:n,username:i,password:v,handleRegister:De,setName:r,setUsername:p,setPassword:g})})]})]}),Object(j.jsxs)("div",{className:"loginedUserDiv",style:{display:E?"":"none"},children:[Object(j.jsxs)("div",{className:"userNameDiv",children:[Object(j.jsx)("div",{className:"logo"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"loggedIn",children:[Object(j.jsxs)("p",{children:[z?z.name:null," is logged in"]}),Object(j.jsx)("p",{className:"username",children:z?z.username:null}),Object(j.jsx)("button",{onClick:function(){ve(!0),Ne(!1)},children:"Create Your Blog"}),Object(j.jsx)("button",{onClick:function(){Se(!1)},children:"show your blog"}),Object(j.jsx)("button",{onClick:function(){Se(!0)},children:"show all"})]}),Object(j.jsx)("button",{onClick:Ue,children:"Log out"})]})]}),Object(j.jsxs)("div",{className:"createBlogDiv",children:[Object(j.jsxs)("div",{style:{display:he?"":"none"},children:[Object(j.jsx)("input",{placeholder:"Title",name:"title",value:ce,onChange:function(e){var t=e.target;return ie(t.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){ve(!1),Ne(!0)},children:"Next"}),Object(j.jsx)("button",{onClick:function(){return ve(!1)},children:"Cancel"})]}),Object(j.jsxs)("div",{style:{display:we?"":"none"},children:[Object(j.jsx)("textarea",{rows:"10",cols:"30",placeholder:"Blog",name:"blog",value:oe,onChange:function(e){var t=e.target;return je(t.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:Ve,children:"add"}),Object(j.jsx)("button",{onClick:function(){Ne(!1),ve(!1)},children:"Cansel"})]})]})]}),Object(j.jsx)("div",{className:"blogsDiv1",children:Object(j.jsx)("ul",{children:Te.map((function(e){return Object(j.jsx)("div",{className:"blogsDiv",children:Object(j.jsxs)("li",{className:"blogsList",children:[qe(e),Object(j.jsx)("p",{className:"title",children:e.title}),Object(j.jsx)("p",{className:"blog",children:e.blog}),Object(j.jsxs)("p",{className:"author",children:["author ",e.user.username]})]},e.id)},e.id)}))})})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),w()}},[[45,1,2]]]);
//# sourceMappingURL=main.a3128913.chunk.js.map